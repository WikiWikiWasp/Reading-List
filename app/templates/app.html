<h1>Jason's Angular Reading List</h1>

<div class='row' ng-controller="ReadingListController as rlCTRL">

    <!--Review Form-->
    <button class="btn btn-primary" ng-click="rlCTRL.showForm = !rlCTRL.showForm">
        {{rlCTRL.showForm ? "Hide Review" : "Create a Review"}}
    </button>
    <hr />
    <review-form change-review-form="rlCTRL.changeReviewForm"
                 books="rlCTRL.books"
                 genres="rlCTRL.genres"
                 ng-show="rlCTRL.showForm">
    </review-form>
    <hr />

    <!--Reading List-->
    <ul class="list-unstyled col-sm-8">
        <li class="book row" ng-repeat="book in rlCTRL.books">
            <!--doesn't work without `replace=true`-->
            <!--<book-cover></book-cover>-->

            <!--book-cover.html-->
            <aside class="col-sm-3">
                <a href="http://www.amazon.com/gp/product/{{book.isbn}}">
                    <img ng-src="http://images.amazon.com/images/P/{{book.isbn}}.01.LZ.jpg"
                         alt="Cover of {{book.title}}"
                         class="full">
                </a>

                <p ng-class="{goodRating: book.rating >= 3}" class="rating">{{book.rating}}/5</p>
            </aside>
            <!--END book-cover.html-->

            <div class="col-sm-9">
                <h3><a href="http://www.amazon.com/gp/product/{{book.isbn}}">{{book.title}}</a></h3>

                <cite class="text-muted">Written by {{book.author}}</cite>

                <p>{{book.review}}</p>

                <book-genres genres="book.genres"></book-genres>
            </div>
        </li>
    </ul>
</div>